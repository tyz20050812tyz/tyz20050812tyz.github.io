<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的菜单 - 点餐系统</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h1>🍳 我的菜单</h1>
            </div>
            <ul class="nav-links">
                <li><a href="#menu" class="nav-link active">菜单</a></li>
                <li><a href="#orders" class="nav-link">我的订单</a></li>
                <li><a href="#profile" class="nav-link">个人中心</a></li>
                <li><button class="btn-logout" onclick="logout()">退出登录</button></li>
            </ul>
            <div class="cart-icon">
                <span class="cart-count" id="cartCount">0</span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
            </div>
        </div>
    </nav>

    <!-- 主容器 -->
    <main class="main-container">
        <!-- 菜单页面 -->
        <section id="menu" class="page active">
            <div class="page-header">
                <h2>菜单</h2>
                <div class="filter-section">
                    <input type="text" id="searchInput" placeholder="搜索菜品..." class="search-input">
                    <select id="categoryFilter" class="category-select">
                        <option value="">所有分类</option>
                        <option value="家常菜">家常菜</option>
                        <option value="汤羹">汤羹</option>
                        <option value="甜品">甜品</option>
                        <option value="面食">面食</option>
                        <option value="海鲜">海鲜</option>
                        <option value="烧烤">烧烤</option>
                    </select>
                </div>
            </div>

            <div class="dishes-grid" id="dishesGrid">
                <!-- 菜品卡片将动态插入这里 -->
            </div>
        </section>

        <!-- 订单页面 -->
        <section id="orders" class="page">
            <div class="page-header">
                <h2>我的订单</h2>
            </div>
            <div class="orders-list" id="ordersList">
                <p class="empty-message">暂无订单</p>
            </div>
        </section>

        <!-- 个人中心 -->
        <section id="profile" class="page">
            <div class="page-header">
                <h2>个人中心</h2>
            </div>
            <div class="profile-container">
                <form id="profileForm" class="profile-form">
                    <div class="form-group">
                        <label for="username">用户名</label>
                        <input type="text" id="username" readonly class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="email">邮箱</label>
                        <input type="email" id="email" readonly class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="phone">电话</label>
                        <input type="tel" id="phone" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="address">地址</label>
                        <textarea id="address" class="form-input" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">保存信息</button>
                </form>
            </div>
        </section>
    </main>

    <!-- 购物车弹窗 -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>购物车</h3>
                <span class="close-btn" onclick="closeCart()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="cart-items" id="cartItems">
                    <p class="empty-message">购物车为空</p>
                </div>
            </div>
            <div class="modal-footer">
                <div class="cart-total">
                    <span>总计：</span>
                    <span id="totalPrice">¥0.00</span>
                </div>
                <button class="btn btn-primary" onclick="goToCheckout()">去结算</button>
            </div>
        </div>
    </div>

    <!-- 菜品详情弹窗 -->
    <div id="dishModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close-btn" onclick="closeDishModal()">&times;</span>
            <div class="dish-detail-content" id="dishDetail">
                <!-- 菜品详情将动态插入 -->
            </div>
        </div>
    </div>

    <!-- 订单确认弹窗 -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close-btn" onclick="closeCheckout()">&times;</span>
            <h3>确认订单</h3>
            <div class="checkout-container">
                <form id="checkoutForm" class="checkout-form">
                    <div class="form-section">
                        <h4>配送信息</h4>
                        <div class="form-group">
                            <label for="deliveryAddress">收货地址</label>
                            <input type="text" id="deliveryAddress" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="pickupTime">取餐时间</label>
                            <input type="datetime-local" id="pickupTime" class="form-input" required>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>特殊要求</h4>
                        <textarea id="specialRequests" class="form-input" placeholder="例如：不要葱，辣度适中..." rows="3"></textarea>
                    </div>

                    <div class="form-section">
                        <h4>支付方式</h4>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="paymentMethod" value="现金" checked>
                                现金
                            </label>
                            <label>
                                <input type="radio" name="paymentMethod" value="支付宝">
                                支付宝
                            </label>
                            <label>
                                <input type="radio" name="paymentMethod" value="微信">
                                微信
                            </label>
                            <label>
                                <input type="radio" name="paymentMethod" value="银行卡">
                                银行卡
                            </label>
                        </div>
                    </div>

                    <div class="order-summary" id="orderSummary">
                        <!-- 订单摘要 -->
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">确认下单</button>
                </form>
            </div>
        </div>
    </div>

    <!-- 成功提示 -->
    <div id="successModal" class="modal">
        <div class="modal-content modal-small">
            <div class="success-content">
                <div class="success-icon">✓</div>
                <h3>订单已提交</h3>
                <p id="successMessage">订单号: <strong id="orderNumber"></strong></p>
                <p>感谢你的订单！</p>
                <button class="btn btn-primary" onclick="closeSuccessModal()">返回菜单</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>

</html>